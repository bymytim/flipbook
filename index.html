<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Flipbook A4 Simple</title>
<style>
body {
  margin: 0;
  background: #222;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: sans-serif;
}

/* Modifier le wrapper pour ne pas couper les boutons */
#book-wrapper {
  position: relative;
  width: 1190px;
  height: 842px;
  overflow: visible; /* <- Important pour les boutons */
}

.page-container {
  display: flex;
  transition: transform 0.5s;
  width: 100%;
}

.page {
  width: 595px;
  height: 842px;
  background: white;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  overflow: hidden;
}

.page.left {
  box-shadow: inset -20px 0 50px rgba(0,0,0,0.3); /* ombre côté gauche */
}

.page.right {
  box-shadow: inset 20px 0 50px rgba(0,0,0,0.3); /* ombre côté gauche de la page droite */
}

.page img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* Boutons */
button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,0.9);
  border: none;
  font-size: 40px;
  cursor: pointer;
  padding: 10px 20px;
  z-index: 1000;
}

#prev { left: -80px; }
#next { right: -80px; }
</style>
</head>
<body>

<div id="book-wrapper">
  <button id="prev">‹</button>
  <button id="next">›</button>

  <div class="page-container" id="book">
    <!-- Les pages seront générées par JS -->
  </div>
</div>

<script>
// Configuration
const totalPages = 26;
const book = document.getElementById('book');
let currentSpread = 0; // index du spread visible

// Générer automatiquement les pages et spreads
function generatePages() {
  // Page 1 seule (couverture avant)
  const coverStart = document.createElement('div');
  coverStart.className = 'page';
  coverStart.innerHTML = `<img src="./pages/page1.jpg">`;
  book.appendChild(coverStart);

  // Pages intérieures 2 par 2
  for(let i=2; i<=25; i+=2){
    const left = document.createElement('div');
    left.className = 'page left';
    left.innerHTML = `<img src="./pages/page${i}.jpg">`;

    const right = document.createElement('div');
    right.className = 'page';
    right.innerHTML = `<img src="./pages/page${i+1}.jpg">`;

    const spread = document.createElement('div');
    spread.className = 'spread';
    spread.style.display = 'flex';
    spread.appendChild(left);
    spread.appendChild(right);

    book.appendChild(spread);
  }

  // Page 26 seule (couverture arrière)
  const coverEnd = document.createElement('div');
  coverEnd.className = 'page';
  coverEnd.innerHTML = `<img src="./pages/page26.jpg">`;
  book.appendChild(coverEnd);
}

// Mettre à jour la vue
function updateBook() {
  const children = Array.from(book.children);
  children.forEach((child, index) => {
    if(index === currentSpread) {
      child.style.display = 'flex';
    } else {
      child.style.display = 'none';
    }
  });
}

// Initialisation
generatePages();
updateBook();

// Boutons
document.getElementById('next').onclick = () => {
  if(currentSpread < book.children.length - 1) currentSpread++;
  updateBook();
};
document.getElementById('prev').onclick = () => {
  if(currentSpread > 0) currentSpread--;
  updateBook();
};
</script>

</body>
</html>
