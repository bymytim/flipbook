<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Flipbook A4</title>
<style>
body {
  margin: 0;
  background: #222;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: sans-serif;
}

#book-wrapper {
  position: relative;
  width: 1190px;
  height: 842px;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

.page-container {
  display: flex;
  position: relative;
  width: 1190px;
  height: 842px;
  transition: transform 0.6s;
}

.page {
  width: 595px;
  height: 842px;
  background: white;
  overflow: hidden;
  position: relative;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
}

.page.left {
  box-shadow: inset -20px 0 50px rgba(0,0,0,0.3);
}

.page img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,0.9);
  border: none;
  font-size: 40px;
  padding: 10px 20px;
  cursor: pointer;
  z-index: 10;
}

#prev { left: -80px; }
#next { right: -80px; }
</style>
</head>
<body>

<div id="book-wrapper">
  <button id="prev">‹</button>
  <button id="next">›</button>

  <div class="page-container" id="book"></div>
</div>

<script>
// Config
const totalPages = 26;
const book = document.getElementById('book');
let currentSpread = 0;

// Générer les pages automatiquement
function generatePages() {
  // Couverture avant seule
  const coverStart = document.createElement('div');
  coverStart.className = 'page left';
  coverStart.innerHTML = `<img src="./pages/page1.jpg">`;
  book.appendChild(coverStart);

  // Pages intérieures 2 par 2
  for(let i=2; i<=25; i+=2){
    const left = document.createElement('div');
    left.className = 'page left';
    left.innerHTML = `<img src="./pages/page${i}.jpg">`;

    const right = document.createElement('div');
    right.className = 'page';
    right.innerHTML = `<img src="./pages/page${i+1}.jpg">`;

    book.appendChild(left);
    book.appendChild(right);
  }

  // Couverture arrière seule
  const coverEnd = document.createElement('div');
  coverEnd.className = 'page';
  coverEnd.innerHTML = `<img src="./pages/page26.jpg">`;
  book.appendChild(coverEnd);
}

generatePages();

// Fonction pour afficher le bon spread
function updateBook() {
  // Chaque spread = 2 pages (couvertures seules = 1 page)
  const offset = -currentSpread * 1190;
  book.style.transform = `translateX(${offset}px)`;
}

// Boutons
document.getElementById('next').onclick = () => {
  if(currentSpread < (totalPages/2)) currentSpread++;
  updateBook();
};
document.getElementById('prev').onclick = () => {
  if(currentSpread > 0) currentSpread--;
  updateBook();
};

// Initialisation
updateBook();
</script>

</body>
</html>
